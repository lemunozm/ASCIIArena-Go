@startuml

title Info server

actor Client
participant Server
participant InfoServer
participant VersionChecker
participant MatchServer

Server -> VersionChecker : <<new>>
Server -> MatchServer : <<new>>
Server -> InfoServer : <<new>>
Server -> InfoServer : run
activate InfoServer
loop
    Client ->> InfoServer : versionMessage
    InfoServer -> InfoServer : handleVersionRequest
    activate InfoServer
    InfoServer -> VersionChecker : checkCompatibility
    activate VersionChecker
    InfoServer <- VersionChecker : checkCompatibility
    deactivate VersionChecker
    Client <<-- InfoServer : checkVersionMessage
    InfoServer -> MatchServer : getMatchInfo
    activate MatchServer
    InfoServer <-- MatchServer
    deactivate MatchServer
    Client <<-- InfoServer : serverInfoMessage
    deactivate InfoServer
end
Server <-- InfoServer
deactivate InfoServer

@enduml

